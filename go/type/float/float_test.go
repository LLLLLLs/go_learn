// Time        : 2019/01/10
// Description :

package float

import (
	"fmt"
	"testing"
)

func BenchmarkAddFloat(b *testing.B) {
	for i := 0; i < b.N; i++ {
		addFloat()
	}
}

func BenchmarkAddZero(b *testing.B) {
	for i := 0; i < b.N; i++ {
		addZero()
	}
}

// float32二进制组成:23位有效数字+7位指数值+1位小数点方向+1位符号
// 针对123456789进行分析:
// 二进制数为:111 0101 1011 1100 1101 0001 0101‬共27位
// 将小数点往左移动26次得到1.11 0101 1011 1100 1101 0001 0101‬
// 默认省略首位的1，从小数点有点开始数23位取得
//	11 0101 1011 1100 1101 0001 0
// 剩下3位101将被截断，截断规则:4舍6入5取偶(测试得知)，此处101应进位
// 因为最终有效数字为11 0101 1011 1100 1101 0001 1
// 再将二进制转为10进制得111 0101 1011 1100 1101 0001 1000 = 123456792
// 截断规则测试过程：
// 	111 0101 1011 1100 1101 0001 0101(123456789)‬ ==> 111 0101 1011 1100 1101 0001 1000(123456792)
// 	111 0101 1011 1100 1101 0001 1011(123456795)‬ ==> 111 0101 1011 1100 1101 0001 1000(123456792)
// 	111 0101 1011 1100 1101 0001 1100(123456796)‬ ==> 111 0101 1011 1100 1101 0010 0000(123456800)
// 	111 0101 1011 1100 1101 0001 0100(123456788)‬ ==> 111 0101 1011 1100 1101 0001 0000(123456784)
// 	111 0101 1011 1100 1101 0000 1100(123456780)‬ ==> 111 0101 1011 1100 1101 0001 0000(123456784)
func TestPrintFloat(t *testing.T) {
	var f = float32(123456780)
	// 123456792.000000
	fmt.Printf("%f\n", f)
}

//111 0101 1011 1100 1101 0001 0101‬
//111 0101 1011 1100 1101 0001 1000
//111 0101 1011 1100 1101 0001 1011
//
//110 1011 0111 1001 1010 0011 0011 010 1 1
